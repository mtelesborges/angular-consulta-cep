<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Angular</title>
</head>
<body class="d-flex justify-content-center align-items-center" style="height: 100vh;">
  <section class="col-8 d-flex flex-column align-items-center">
    <div class="alert alert-danger col-8" role="alert" *ngIf="erro">
      Ooops, ocorreu um erro ao consultar o cep!
    </div>
    <div class="d-flex justify-content-center align-items-center col-12">
      <div class="col-3 p-2">
        <form
          class="form-row"
          [formGroup]="form"
          autocomplete="off"
        >
          <div class="form-group">
            <label for="cep">Cep</label>
            <input
              type="text"
              class="form-control"
              id="cep-"
              formControlName="cep"
              placeholder="00.0000-000"
              cep [textMask]="{mask: MASKS.cep.textMask}"
            >
          </div>
          <button
            class="btn btn-success w-100 mt-4"
            (click)="consultarCep(form.get('cep').value)"
            [disabled]="form.status != 'VALID'"
          >
            <span *ngIf="spinner == true" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span *ngIf="spinner == false">Consultar</span>
          </button>
        </form>
      </div>
      <div class="col-5 p-2">
        <form
          [formGroup]="formDadosEndereco"
        >
          <div class="form-group">
            <label for="bairro">Bairro</label>
            <input
              type="text"
              class="form-control"
              id="bairro"
              readonly
              formControlName="bairro"
            >
          </div>
          <div class="form-group mt-2">
            <label for="localidade">Cidade</label>
            <input
              type="text"
              class="form-control"
              id="localidade"
              readonly
              formControlName="localidade"
            >
          </div>
          <div class="form-group mt-2">
            <label for="uf">Estado</label>
            <input
              type="text"
              class="form-control"
              estado="uf"
              readonly
              formControlName="uf"
              >
          </div>
        </form>
      </div>
    </div>
  </section>
</body>
</html>
